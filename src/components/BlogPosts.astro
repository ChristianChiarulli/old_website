---
import BlogPost from "./BlogPost.astro";
const allPosts = await Astro.glob("../pages/posts/*.md");
const { count, paginate, page } = Astro.props;
const posts = paginate ? page.data : allPosts.slice(-count).reverse();
---

<ul>
  {
    posts.map((post, index) => (
      <BlogPost
        index={index}
        url={post.url}
        title={post.frontmatter.title}
        date={post.frontmatter.date}
      />
    ))
  }
</ul>
